<app-menu [titleComponent]="titleComponent"></app-menu>

<div class="w-100 p-4 rounded shadow-sm" id="menu"> 
    <table class="table table-primary">
        <thead class="text-center">

            <th style="width:9%" class="fw-normal">Icons</th>
            <th style="width:28%" class="fw-normal">Noms</th>
            <th style="width:35%;" class="fw-normal">Routes</th>
            <th style="width:11%;" class="fw-normal">Rang</th>
            <th style="width:17%;" class="fw-normal"></th>
        
        </thead>
    </table>
    <div class="corps-list" cdkDropList (cdkDropListDropped)="drop($event)">
        <div *ngFor="let item of liste_menu; let i = index" cdkDrag cdkDragLockAxis="y" class="list ps-4 pe-4 pt-2 pb-2">
            <div class="w-100 d-flex flex-row justify-content-between align-items-center p-2">
                
                <div style="width:5%" class="text-center">
                    <button class="btn btn-secondary"><i class="{{item.icon_menu}}"></i></button>
                </div>
                <div style="width:30%">
                    <input type="text" [(ngModel)]="item.nom_menu" class="p-2 form-control form-control-sm">
                </div>
                <div style="width: 30%;">
                    <input type="text" [(ngModel)]="item.route_menu" class="p-2 form-control form-control-sm">
                </div>
                <div style="width: 8%;">
                    <input type="text" class="p-2 text-center form-control form-control-sm" value="{{i+1}}" [disabled]="true">
                </div>
                <div style="width: 6%;" class="text-center d-flex flex-row justify-content-between align-items-center">
                    <button class="btn btn-warning" (click)="modifierMenu(item)"><i class="fa-solid fa-pen"></i></button>
                    <button class="btn btn-danger" (click)="supprimerMenu(item.id_menu)"><i class="fa-solid fa-trash-can"></i></button>
                </div>
                <div style="width:5%;" class="text-center" cdkDragHandle>
                    <i class="bi bi-three-dots-vertical" style="font-size: 20px;"></i>
                </div>
            
            </div>
        </div>
    </div>
    <hr>
    <div class="ps-4 pe-4 pt-2 pb-2 bg-white">
        <div class="w-100 d-flex flex-row justify-content-between align-items-center p-2">

            <div style="width:5%" class="text-center">
                <button class="btn btn-outline-secondary"><i class="fa fa-plus" aria-hidden="true"></i></button>
            </div>
            <div style="width:30%">
                <input type="text" class="p-2 form-control form-control-sm">
            </div>
            <div style="width: 30%;">
                <input type="text" class="p-2 form-control form-control-sm">
            </div>
            <div style="width: 8%;">
                <input type="text" class="p-2 text-center form-control form-control-sm" value="{{nextRang}}" [disabled]="true">
            </div>
            <div style="width: 6%;" class="text-center">
                <button type="button" class="btn btn-primary" (click)="ajouterMenu()"><i class="fa-solid fa-check"></i></button>
            </div>
            <div style="width:5%;" class="text-center">
                <button class="btn btn-outline-primary" (click)="enregistrer()"><i class="bi bi-check-all"></i></button>
            </div>
        
        </div>
    </div>
</div>

<div *ngFor="let icon of movies">
    <button class="mt-2 btn btn-secondary" (click)="getIcon(icon)"><i class="{{icon}}"></i></button>
</div>
